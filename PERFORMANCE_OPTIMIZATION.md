# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞**: –ê–Ω–∏–º–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ, —Å–æ–∑–¥–∞–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ**:
- **BariView (—Å–≤–µ—á–µ–Ω–∏–µ)**: –£–≤–µ–ª–∏—á–µ–Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å 2000ms –¥–æ 3000ms, —É–º–µ–Ω—å—à–µ–Ω–∞ –∞–º–ø–ª–∏—Ç—É–¥–∞ —Å 1.15f –¥–æ 1.12f
- **BariView (–ø—É–ª—å—Å–∞—Ü–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏)**: –£–≤–µ–ª–∏—á–µ–Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å 1500ms –¥–æ 2500ms, —É–º–µ–Ω—å—à–µ–Ω–∞ –∞–º–ø–ª–∏—Ç—É–¥–∞ —Å 1.05f –¥–æ 1.03f
- **SkillNode (–ø—É–ª—å—Å–∞—Ü–∏—è —É–∑–ª–æ–≤)**: –£–≤–µ–ª–∏—á–µ–Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å 1000ms –¥–æ 2000ms, —É–º–µ–Ω—å—à–µ–Ω–∞ –∞–º–ø–ª–∏—Ç—É–¥–∞ —Å 1.1f –¥–æ 1.08f

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–µ–Ω—å—à–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É ‚Üí –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ GPU –∏ CPU ‚Üí –ø–ª–∞–≤–Ω–µ–µ –∞–Ω–∏–º–∞—Ü–∏–∏

### 2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è BariViewModel

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —Å–æ–∑–¥–∞–≤–∞–ª–∞ –Ω–µ–Ω—É–∂–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É.

**–†–µ—à–µ–Ω–∏–µ**:
- –£–≤–µ–ª–∏—á–µ–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å 60 —Å–µ–∫—É–Ω–¥ –¥–æ 180 —Å–µ–∫—É–Ω–¥ (3 –º–∏–Ω—É—Ç—ã)
- –¢—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (TimeOfDay.current(), getSmartHintBasedOnContext) –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –Ω–∞ `Dispatchers.Default`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ `Dispatchers.Main`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–µ–Ω—å—à–µ —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Üí –º–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –±–∞—Ç–∞—Ä–µ–∏ ‚Üí –ª—É—á—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (sumOf, map, filter) –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ.

**–†–µ—à–µ–Ω–∏–µ**:
- **BalanceViewModel**: –î–æ–±–∞–≤–ª–µ–Ω `.flowOn(Dispatchers.Default)` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ XP
- **BariCoreViewModel**: –î–æ–±–∞–≤–ª–µ–Ω `.flowOn(Dispatchers.Default)` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–≤–µ—Å—Ç–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ `BalanceViewModel`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è ‚Üí –Ω–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ ‚Üí –ø–ª–∞–≤–Ω—ã–π UI

### 4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SkillTreeView

**–ü—Ä–æ–±–ª–µ–º–∞**: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ layout –≥—Ä–∞—Ñ–∞ –Ω–∞–≤—ã–∫–æ–≤ –≤—ã–ø–æ–ª–Ω—è–ª–æ—Å—å –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `remember(skills, maxWidth, maxHeight, density)` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è `graphData`
- –í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–µ–Ω—å—à–µ –ø–µ—Ä–µ—Å—á–µ—Ç–æ–≤ ‚Üí –±—ã—Å—Ç—Ä–µ–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ ‚Üí –ø–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

### 5. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è MainViewModel

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `withContext(Dispatchers.IO)` –¥–ª—è `insertInitialCategories()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –Ω–µ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

### 6. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è MainActivity

**–ü—Ä–æ–±–ª–µ–º–∞**: –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ DataStore.

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–æ–Ω–æ–≤—ã–π —Ü–≤–µ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–æ–Ω–æ–≤—ã–π —Ü–≤–µ—Ç –¥–ª—è MainScreen
- –í—Å–µ —ç–∫—Ä–∞–Ω—ã —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç —è–≤–Ω—ã–π —Ñ–æ–Ω–æ–≤—ã–π —Ü–≤–µ—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ ‚Üí –ª—É—á—à–∏–π UX

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
   - –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ —Å ~39 –¥–æ <5
   - –ü–ª–∞–≤–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π: 60 FPS
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: <1 —Å–µ–∫—É–Ω–¥–∞

2. **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**:
   - –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU (–º–µ–Ω—å—à–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∞–Ω–∏–º–∞—Ü–∏–π)
   - –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ GPU (–º–µ–Ω—å—à–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫)
   - –ú–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –±–∞—Ç–∞—Ä–µ–∏ (–º–µ–Ω—å—à–µ —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫)

3. **UX**:
   - –ù–µ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
   - –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
   - –û—Ç–∑—ã–≤—á–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Flow –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**:
   ```kotlin
   .flowOn(Dispatchers.Default) // –¢—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ —Ñ–æ–Ω–µ
   ```

2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   ```kotlin
   remember(skills, maxWidth, maxHeight, density) {
       calculateGraphLayout(...)
   }
   ```

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π**:
   ```kotlin
   infiniteRepeatable(
       animation = tween(3000, easing = LinearEasing), // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ = –ª—É—á—à–µ
       repeatMode = RepeatMode.Reverse
   )
   ```

4. **–§–æ–Ω–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
   ```kotlin
   withContext(Dispatchers.Default) {
       // –¢—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
   }
   ```

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **Lazy Loading**: –ó–∞–≥—Ä—É–∂–∞—Ç—å ViewModels —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
2. **Image Optimization**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Coil –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **Database Optimization**: –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. **Memory Management**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `remember` –¥–ª—è –≤—Å–µ—Ö –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
5. **Profiling**: –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é Android Profiler

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ Android Profiler
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - CPU Usage (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å <50% –≤ –ø–æ–∫–æ–µ)
   - Memory Usage (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º)
   - Frame Rate (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 60 FPS)
   - Skipped Frames (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å <5)

## üéØ –ò—Ç–æ–≥–∏

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–ª–∞–≤–Ω–µ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö. –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω, –∞–Ω–∏–º–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, —Ç—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ —Ñ–æ–Ω–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏.




