# –ê–ù–ê–õ–ò–ó –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –ü–†–û–ï–ö–¢–ê BARY

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2024  
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** agent-memory.md v8.1  
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (~70%)

---

## üìä –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|-----------|--------|----------|
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 100% |
| Data Layer | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 90% |
| UI Components | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 85% |
| –≠–∫—Ä–∞–Ω—ã | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 70% |
| –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 75% |
| Bari System | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 60% |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 30% |

---

## ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### ‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- ‚úÖ Jetpack Compose
- ‚úÖ Material 3
- ‚úÖ Navigation Compose
- ‚úÖ Hilt (Dependency Injection)
- ‚úÖ Room Database
- ‚úÖ DataStore (Preferences)
- ‚úÖ Kotlin Coroutines & Flow
- ‚úÖ Gson –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON

#### ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (UI, ViewModel, Repository, Data)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sealed classes –¥–ª—è —Å–æ–±—ã—Ç–∏–π

### 2. Data Layer

#### ‚úÖ Room Database
- ‚úÖ `AppDatabase` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –°—É—â–Ω–æ—Å—Ç–∏: Transaction, PiggyBank, PlannedEvent, UserProgress, Category, Template, Quest, Achievement
- ‚úÖ DAO –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ TypeConverters –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `fallbackToDestructiveMigration()` - –∫—Ä–∏—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å!

#### ‚úÖ DataStore
- ‚úÖ `SettingsDataStore` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ: userName, currency, theme, userMode
- ‚úÖ Flow-based API

#### ‚úÖ JSON Assets
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç:
  - `lessons.json`
  - `quizzes.json`
  - `achievements.json`
  - `quests.json`
  - `skills.json`
  - `bari_hints.json`
  - `bari_tips.json`

### 3. Design System

#### ‚úÖ AuroraGlassCard
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `AuroraGlassCard.kt`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ border
- ‚úÖ –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω (–±–µ–∑ blur, –∫–∞–∫ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö

#### ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ `ui/theme/Color.kt`
- ‚úÖ AuroraBlue, AuroraPurple, AuroraMint, NeonYellow
- ‚úÖ –§–æ–Ω–æ–≤—ã–µ —Ü–≤–µ—Ç–∞

#### ‚úÖ –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ `ui/theme/Type.kt`
- ‚ö†Ô∏è –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞–ª–∏—á–∏–µ Roboto Flex —à—Ä–∏—Ñ—Ç–∞

### 4. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

#### ‚úÖ FinanceRepository
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∞–º–∏
- ‚úÖ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –®–∞–±–ª–æ–Ω—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ (`calculatePrognosticBalance`)

#### ‚úÖ GamificationRepository
- ‚úÖ `addXp()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞
- ‚úÖ `checkLevelUp()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
- ‚úÖ `gameEvents` - SharedFlow –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- ‚úÖ `unlockSkill()` - —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–≤—ã–∫–æ–≤
- ‚úÖ `completeQuest()` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
- ‚úÖ `awardAchievement()` - –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON (achievements, skills, quests)

#### ‚úÖ LearningRepository
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ `lessons.json`
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ `quizzes.json`
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏

#### ‚úÖ ContentRepository
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ `bari_hints.json`
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø–æ –∫–ª—é—á—É –∏ UserMode

#### ‚úÖ SettingsRepository
- ‚úÖ –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ SettingsDataStore
- ‚úÖ Flow-based API

### 5. UI –≠–∫—Ä–∞–Ω—ã (–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)

#### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
- ‚úÖ `BalanceScreen` - —ç–∫—Ä–∞–Ω –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ `CalendarScreen` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –ø—Ä–æ–≥–Ω–æ–∑–∞–º–∏
- ‚úÖ `AddTransactionScreen` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ `PiggyBanksScreen` - —Å–ø–∏—Å–æ–∫ –∫–æ–ø–∏–ª–æ–∫
- ‚úÖ `PiggyBankDetailScreen` - –¥–µ—Ç–∞–ª–∏ –∫–æ–ø–∏–ª–∫–∏
- ‚úÖ `AddEditPiggyBankScreen` - —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏
- ‚úÖ `StatsScreen` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- ‚úÖ `LessonsScreen` - —Å–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤
- ‚úÖ `LessonDetailScreen` - –¥–µ—Ç–∞–ª–∏ —É—Ä–æ–∫–∞
- ‚úÖ `QuizScreen` - –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–≤–∏–∑–∞
- ‚úÖ `AchievementsScreen` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- ‚úÖ `QuestsScreen` - –∫–≤–µ—Å—Ç—ã
- ‚úÖ `SkillsScreen` - –Ω–∞–≤—ã–∫–∏
- ‚úÖ `BariCoreScreen` - —è–¥—Ä–æ –ë–∞—Ä–∏ (–¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤)
- ‚úÖ `SettingsScreen` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `OnboardingScreen` - –æ–Ω–±–æ—Ä–¥–∏–Ω–≥

#### ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ `NavigationGraph` - –≥—Ä–∞—Ñ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ `BottomNavigationBar` - –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. Bari System (–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç)

#### ‚ö†Ô∏è BariViewModel
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `gameEvents`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ LevelUp –∏ AchievementUnlocked
- ‚úÖ –ú–µ—Ç–æ–¥ `onNavigate()` –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** `BariTrigger` sealed interface
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** –ú–µ—Ç–æ–¥ `handleTrigger(BariTrigger)`
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ "–º–æ–∑–≥–∞" —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π unlockedSkills
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** BariMood enum
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** BariPosition sealed class
- ‚ö†Ô∏è –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è, –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### ‚ö†Ô∏è BariView
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ë–∞—Ä–∏
- ‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –ø—É–∑—ã—Ä—å–∫–∞—Ö
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** Crossfade –¥–ª—è —Å–º–µ–Ω—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ BariPosition (CenterScreen, Hidden –∏ —Ç.–¥.)

#### ‚ö†Ô∏è BariTrigger API
- ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù:** Sealed interface BariTrigger
- ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ ViewModels
- ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ (OnTransactionAdded, OnCategoryOverspent –∏ —Ç.–¥.)

### 2. –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è

#### ‚ö†Ô∏è UserProgress
- ‚úÖ –•—Ä–∞–Ω–∏—Ç—Å—è –≤ Room —á–µ—Ä–µ–∑ UserProgressDao
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç: xp, level, skills, achievements, completedQuests
- ‚ö†Ô∏è **–ù–ï –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–ò:** –í —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ DataStore, –Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ Room

#### ‚ö†Ô∏è –ö–≤–µ—Å—Ç—ã
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ JSON
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ GamificationRepository
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** QuestEntity –≤ Room (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª—å)
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–≤–µ—Å—Ç–æ–≤ (taskCurrentCount)
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –∫–≤–µ—Å—Ç–æ–≤ (issueQuest)

#### ‚ö†Ô∏è –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ JSON
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–ï–¢:** AchievementEntity –≤ Room (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª—å)
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ UseCase

### 3. UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### ‚ö†Ô∏è AppIcon
- ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù:** Composable-–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –∏–∫–æ–Ω–æ–∫ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ Material

#### ‚ö†Ô∏è –ö–∞–ª–µ–Ω–¥–∞—Ä—å
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `CalendarScreen`
- ‚úÖ `DayCell` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤/—Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚ö†Ô∏è –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–π –±–∞–ª–∞–Ω—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### 4. Use Cases

#### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ Use Cases
- ‚úÖ `CheckAchievementsUseCase`
- ‚úÖ `GetBariHintUseCase`
- ‚úÖ `GetLessonsUseCase`
- ‚úÖ `GetLessonUseCase`
- ‚úÖ `GetQuestsUseCase`
- ‚úÖ `GetSkillsUseCase`
- ‚úÖ `GetQuizzesUseCase`
- ‚úÖ `GetRandomBariTipUseCase`
- ‚úÖ `CompleteQuestUseCase`

---

## ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### ‚ùå BariTrigger API
- ‚ùå Sealed interface –Ω–µ —Å–æ–∑–¥–∞–Ω
- ‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ViewModels –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ BariViewModel –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

#### ‚ùå –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ "–º–æ–∑–≥–∞" –ë–∞—Ä–∏
- ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ UserMode –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ unlockedSkills
- ‚ùå –í—ã–±–æ—Ä –¥–∏–∞–ª–æ–≥–æ–≤ –∏–∑ bari_dialogues.json –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –∫–≤–µ—Å—Ç–æ–≤ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

#### ‚ùå –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- ‚ùå –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Room –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `fallbackToDestructiveMigration()` - **–ö–†–ò–¢–ò–ß–ù–û!**

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚ùå TODO –≤ `TransactionDetailViewModel`: "Navigate to edit screen"

#### ‚ùå –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤ –∫–æ–ø–∏–ª–∫–µ
- ‚ùå TODO –≤ `PiggyBankDetailScreen`: "Add progress bar"

#### ‚ùå –ö–Ω–æ–ø–∫–∞ –∫–≤–∏–∑–∞ –≤ —É—Ä–æ–∫–µ
- ‚ùå TODO –≤ `LessonDetailScreen`: "Add quiz button later"

#### ‚ùå –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞
- ‚ùå TODO –≤ `BariCoreScreen.kt:182`: `Dp.toPx()` - "Not yet implemented"
- ‚ö†Ô∏è –≠—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –Ω–∞–≤—ã–∫–æ–≤!

#### ‚ùå –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏
- ‚ùå TODO –≤ `ProfileViewModel`: unlockedAchievementsCount, activeQuestsCount

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### ‚ùå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- ‚ùå ViewModels –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç `bariViewModel.handleTrigger()`
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π —Å –ë–∞—Ä–∏
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π —Å –ë–∞—Ä–∏

#### ‚ùå –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –≤–∏–±—Ä–∞—Ü–∏—è
- ‚ùå SoundEffect –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ùå HapticFeedback –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

#### ‚ùå –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚ùå –°–ø–∏—Å–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚ùå –ù–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

#### ‚ùå –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è JSON –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

---

## üîç –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ü–û –§–ê–ó–ê–ú

### –§–∞–∑–∞ 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (–î–∞–Ω–Ω—ã–µ –∏ –î–∏–∑–∞–π–Ω) - ‚úÖ 85%

#### Data Layer (Gamification)
- ‚úÖ QuestEntity, AchievementEntity –º–æ–¥–µ–ª–∏ –µ—Å—Ç—å
- ‚ö†Ô∏è –í Room –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ UserProgress, Quest –∏ Achievement –∫–∞–∫ –º–æ–¥–µ–ª–∏, –Ω–µ –∫–∞–∫ Entity
- ‚úÖ UserProgress —Ö—Ä–∞–Ω–∏—Ç—Å—è (–≤ Room, –Ω–µ –≤ DataStore –∫–∞–∫ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- ‚úÖ –ü–∞—Ä—Å–µ—Ä—ã –¥–ª—è JSON —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

#### Design System
- ‚úÖ Color.kt, Type.kt, Theme.kt –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ AuroraGlassCard —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–±–µ–∑ blur)
- ‚ùå AppIcon –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ Assets –ø–∞–ø–∫–∞ —Å JSON —Ñ–∞–π–ª–∞–º–∏

### –§–∞–∑–∞ 2: –û—Å–Ω–æ–≤–Ω–æ–π –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª - ‚úÖ 90%

#### UI (Finance)
- ‚úÖ BalanceScreen —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ AddTransactionScreen —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–≤–∫–ª—é—á–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —à–∞–±–ª–æ–Ω—ã)
- ‚úÖ PiggyBanksScreen —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è StatsScreen –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ—Ä–∞–±–æ—Ç–∫–∏)

#### UI (Calendar)
- ‚úÖ CalendarScreen —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ DayCell —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ FinanceRepository.calculatePrognosticBalance —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ PlannedEvent –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

### –§–∞–∑–∞ 3: –î–≤–∏–∂–æ–∫ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ - ‚ö†Ô∏è 70%

#### GamificationRepository
- ‚úÖ addXp(), checkLevelUp(), gameEvents —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚ö†Ô∏è CRUD –¥–ª—è QuestEntity/AchievementEntity —á–∞—Å—Ç–∏—á–Ω–æ (—Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª–∏)
- ‚ö†Ô∏è unlockedSkills –ª–æ–≥–∏–∫–∞ –µ—Å—Ç—å, –Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Room, –Ω–µ –≤ DataStore

#### LearningRepository
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ lessons.json –∏ quizzes.json
- ‚ùå LessonProgressEntity –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

#### UI (Gamification)
- ‚úÖ BariCoreScreen —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤)
- ‚ö†Ô∏è XP-–±–∞—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–º
- ‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –ú–∏—Å—Å–∏–π –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ë–∞—Ä–∏ - ‚ùå 40%

#### BariTrigger
- ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù**

#### BariViewModel
- ‚ö†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- ‚ùå handleTrigger(BariTrigger) –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚ö†Ô∏è BariUiState —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π (–Ω–µ—Ç BariMood, BariPosition)

#### BariView
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- ‚ùå Crossfade –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚ùå BariPosition –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

### –§–∞–∑–∞ 5: –ó–∞–º—ã–∫–∞–Ω–∏–µ –ò–≥—Ä–æ–≤–æ–≥–æ –¶–∏–∫–ª–∞ - ‚ùå 20%

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¢—Ä–∏–≥–≥–µ—Ä–æ–≤
- ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

#### –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ "–ú–æ–∑–≥–∞"
- ‚ö†Ô∏è bari_dialogues.json –µ—Å—Ç—å, –Ω–æ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

#### –ü–æ–ª–∏—Ä–æ–≤–∫–∞
- ‚ùå SoundEffect –∏ HapticFeedback –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **BariCoreScreen –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - `Dp.toPx()` –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (—Å—Ç—Ä–æ–∫–∞ 182)
   - –î–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

2. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î**
   - `fallbackToDestructiveMigration()` –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö

3. **BariTrigger API –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
   - –ù–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –ë–∞—Ä–∏

### 2. –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

4. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è BariViewModel**
   - –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ "–º–æ–∑–≥–∞"

5. **–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ TODO**
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∫–æ–ø–∏–ª–∫–∏
   - –ö–Ω–æ–ø–∫–∞ –∫–≤–∏–∑–∞ –≤ —É—Ä–æ–∫–µ

---

## üìã –ü–õ–ê–ù –î–û–†–ê–ë–û–¢–ö–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ)
1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `Dp.toPx()` –≤ BariCoreScreen
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å BariTrigger sealed interface

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π BariViewModel —Å handleTrigger()
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤–æ –≤—Å–µ ViewModels
6. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É "–º–æ–∑–≥–∞" –ë–∞—Ä–∏
7. ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å TODO –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
8. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AppIcon –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
9. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É BariPosition –≤ BariView
10. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å SoundEffect –∏ HapticFeedback
11. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: ~70%**

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—Å–Ω–æ–≤–∞
- ‚úÖ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –±–∞–∑–æ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ Data Layer –≤ —Ö–æ—Ä–æ—à–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- ‚úÖ Design System —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
- ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ë–∞—Ä–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
- ‚ùå –ï—Å—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (Dp.toPx, –º–∏–≥—Ä–∞—Ü–∏–∏)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å BariTrigger API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –ø—Ä–æ–±–ª–µ–º.**





