# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∞—à–∞ –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–∞

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ª–µ—Ç–∞–ª–æ —Å –∫—Ä–∞—à–µ–º.

## üîç –ü—Ä–∏—á–∏–Ω—ã

### 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `!!` (non-null assertion)**
–í `QuizViewModel.kt` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä `!!`:
```kotlin
private val quizId: String = savedStateHandle.get<String>("quizId")!!
```
–ï—Å–ª–∏ `quizId` –±—ã–ª null, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∫—Ä–∞—à–∏–ª–æ—Å—å.

### 2. **–ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–º–µ–Ω –ø–æ–ª–µ–π JSON –∏ Kotlin**
–í `quizzes.json` –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–ª–æ—Å—å `"question"`, –∞ –≤ Kotlin –∫–ª–∞—Å—Å–µ `Question` - `text`:
```json
{
  "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ –±—é–¥–∂–µ—Ç?",  // JSON
  ...
}
```
```kotlin
data class Question(
    val text: String,  // Kotlin - —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞!
    ...
)
```

Gson –Ω–µ –º–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø—É—Å—Ç—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –∏ –∫—Ä–∞—à—É.

### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**
–ù–µ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ —Å–ª—É—á–∞–π:
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è quizId
- –ù–µ–Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–≤–∏–∑–∞
- –û—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **QuizViewModel.kt - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ quizId**

```kotlin
// –ë—ã–ª–æ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ):
private val quizId: String = savedStateHandle.get<String>("quizId")!!

// –°—Ç–∞–ª–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ):
private val quizId: String? = savedStateHandle.get<String>("quizId")

init {
    viewModelScope.launch {
        if (quizId == null) {
            _uiState.update { it.copy(isLoading = false, errorMessage = "Quiz ID not found") }
            return@launch
        }
        
        try {
            val quizzes = getQuizzesUseCase()
            val quiz = quizzes.find { it.id == quizId }
            
            if (quiz == null) {
                _uiState.update { it.copy(isLoading = false, errorMessage = "Quiz not found: $quizId") }
            } else {
                _uiState.update { it.copy(questions = quiz.questions, isLoading = false) }
            }
        } catch (e: Exception) {
            _uiState.update { it.copy(isLoading = false, errorMessage = "Error loading quiz: ${e.message}") }
        }
    }
}
```

### 2. **QuizUiState - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ errorMessage**

```kotlin
data class QuizUiState(
    val questions: List<Question> = emptyList(),
    val currentQuestionIndex: Int = 0,
    val selectedAnswerIndex: Int? = null,
    val isAnswerCorrect: Boolean? = null,
    val score: Int = 0,
    val isQuizFinished: Boolean = false,
    val isLoading: Boolean = true,
    val errorMessage: String? = null  // –ù–æ–≤–æ–µ –ø–æ–ª–µ!
)
```

### 3. **QuizScreen.kt - –≠–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏**

–î–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫:

```kotlin
Scaffold {
    if (uiState.isLoading) {
        // –ó–∞–≥—Ä—É–∑–∫–∞...
    } else if (uiState.errorMessage != null) {
        // –≠–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
        Box(modifier = Modifier.fillMaxSize().padding(it), contentAlignment = Alignment.Center) {
            Column(horizontalAlignment = Alignment.CenterHorizontally) {
                Text(
                    text = "–û—à–∏–±–∫–∞",
                    style = MaterialTheme.typography.headlineMedium,
                    color = MaterialTheme.colorScheme.error
                )
                Text(text = uiState.errorMessage)
                Button(onClick = { navController.popBackStack() }) {
                    Text("–í–µ—Ä–Ω—É—Ç—å—Å—è")
                }
            }
        }
    } else if (uiState.isQuizFinished) {
        // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
    } else {
        // –í–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞
    }
}
```

### 4. **Quiz.kt - –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @SerializedName**

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:

```kotlin
import com.google.gson.annotations.SerializedName

data class Question(
    @SerializedName("question") // –í JSON —Ñ–∞–π–ª–µ –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "question"
    val text: String,
    val answers: List<String>,
    val correctAnswerIndex: Int
)
```

–¢–µ–ø–µ—Ä—å Gson –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–∞–ø–ø–∏—Ç `"question"` –∏–∑ JSON –≤ `text` –≤ Kotlin.

### 5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ quizId –≤ BariEventBus**

```kotlin
// –ë—ã–ª–æ:
bariEventBus.emit(BariTrigger.OnQuizCompleted(quizId, finalScore))

// –°—Ç–∞–ª–æ:
quizId?.let { id ->
    bariEventBus.emit(BariTrigger.OnQuizCompleted(id, finalScore))
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå –ö—Ä–∞—à –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç"
- ‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ª–µ—Ç–∞–ª–æ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
- ‚ùå –ü—É—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –¢–µ—Å—Ç—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –∫—Ä–∞—à–∞
- ‚úÖ –í–æ–ø—Ä–æ—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ –ø—Ä–∏ –æ—à–∏–±–∫–µ

## üéÆ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç"
2. –í–∏–¥–∏—Ç —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏
3. –í–∏–¥–∏—Ç –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å —Å –æ—Ç–≤–µ—Ç–∞–º–∏
4. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
5. –í–∏–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π —Å –æ—à–∏–±–∫–æ–π:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç"
2. –ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   –û—à–∏–±–∫–∞
   Quiz not found: some_id
   [–ö–Ω–æ–ø–∫–∞: –í–µ—Ä–Ω—É—Ç—å—Å—è]
   ```
3. –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `QuizViewModel.kt`
- ‚úÖ –£–±—Ä–∞–Ω –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π `!!` –æ–ø–µ—Ä–∞—Ç–æ—Ä
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã try-catch –±–ª–æ–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ null quizId
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–≤–∏–∑–∞
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å quizId –≤ BariEventBus

### 2. `QuizScreen.kt`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —ç–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ

### 3. `Quiz.kt`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@SerializedName("question")`
- ‚úÖ –¢–µ–ø–µ—Ä—å Gson –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏—Ç JSON

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. ‚úÖ –ù–∞–∂–∞—Ç–∏–µ "–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç" –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —É—Ä–æ–∫–µ
2. ‚úÖ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
3. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –Ω–∞–∑–∞–¥
5. ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–≤–∏–∑ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞)

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–≤–∏–∑—ã:
- `budgeting_basics` - –¢–µ—Å—Ç: –û—Å–Ω–æ–≤—ã –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `investment_intro` - –¢–µ—Å—Ç: –í–≤–µ–¥–µ–Ω–∏–µ –≤ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
- `credit_awareness` - –¢–µ—Å—Ç: –û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏–µ
- `savings_strategies` - –¢–µ—Å—Ç: –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è
- `taxes_basics` - –¢–µ—Å—Ç: –ù–∞–ª–æ–≥–∏ - –æ—Å–Ω–æ–≤—ã
- `financial_security` - –¢–µ—Å—Ç: –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Gson –ø–∞—Ä—Å–∏–Ω–≥:
```kotlin
// JSON:
{
  "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ –±—é–¥–∂–µ—Ç?",
  "answers": ["...", "..."],
  "correctAnswerIndex": 0
}

// Kotlin —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π:
data class Question(
    @SerializedName("question")  // –ú–∞–ø–ø–∏–Ω–≥ JSON ‚Üí Kotlin
    val text: String,              // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ –∫–∞–∫ text
    val answers: List<String>,
    val correctAnswerIndex: Int
)
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
```kotlin
try {
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
} catch (e: Exception) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    _uiState.update { it.copy(errorMessage = "Error: ${e.message}") }
}
```

## üìÖ –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
19 –Ω–æ—è–±—Ä—è 2025

## üë§ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
AI Assistant (Claude Sonnet 4.5)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ –∫—Ä–∞—à–µ–π




